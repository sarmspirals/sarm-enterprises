<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SARM ENTERPRISES - Premium Notebooks</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-cart"></i> Your Cart</h3>
            <button class="close-cart">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <p class="empty-cart">Your cart is empty</p>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">₹0</span>
            </div>
            <button class="btn-primary btn-checkout" id="checkoutBtn" disabled>
                <i class="fas fa-check"></i> Checkout
            </button>
            <button class="btn-secondary btn-clear-cart" id="clearCartBtn">
                <i class="fas fa-trash"></i> Clear Cart
            </button>
        </div>
    </div>
    <div class="cart-overlay" id="cartOverlay"></div>

    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img id="logo" src="" alt="SARM ENTERPRISES Logo" class="logo-img">
                <div>
                    <h1>SARM ENTERPRISES</h1>
                    <p class="tagline">Quality Pages for Quality Thoughts</p>
                </div>
            </div>
            <div class="nav-menu">
                <a href="#home"><i class="fas fa-home"></i> Home</a>
                <a href="#products"><i class="fas fa-book"></i> Products</a>
                <a href="#contact"><i class="fas fa-phone"></i> Contact</a>
                <a href="faqs.html"><i class="fas fa-question-circle"></i> FAQs</a>
                <!-- Admin link hidden by default, shown only to logged in users -->
                <a href="admin.html" id="adminLink" style="display: none;">
                    <i class="fas fa-user-shield"></i> Admin
                </a>
                <a href="#" id="cartIcon" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </a>
            </div>
            <button class="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Add login button only for admin access -->
    <div id="adminAccess" style="display: none; text-align: center; padding: 10px;">
        <button onclick="window.location.href='admin.html'" class="btn-primary">
            <i class="fas fa-user-shield"></i> Admin Panel
        </button>
    </div>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h2>Capture Your Thoughts with Our Premium Notebooks</h2>
            <p>Experience the perfect blend of quality paper, durable binding, and elegant design. Your ideas deserve the best.</p>
            
            <!-- Moving Quotes Carousel -->
            <div class="quotes-carousel">
                <div class="swiper quotesSwiper">
                    <div class="swiper-wrapper" id="quotesContainer">
                        <!-- Quotes will be loaded here -->
                        <div class="swiper-slide">
                            <div class="quote">
                                <i class="fas fa-quote-left"></i>
                                <p>Where Thoughts Find Their Perfect Home</p>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <div class="quote">
                                <i class="fas fa-quote-left"></i>
                                <p>Quality Pages for Lifelong Memories</p>
                            </div>
                        </div>
                    </div>
                    <!-- Add Pagination -->
                    <div class="swiper-pagination"></div>
                </div>
            </div>
            
            <a href="#products" class="btn-primary">Shop Now</a>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products-section">
        <div class="container">
            <h2 class="section-title">Our Premium Notebook Collection</h2>
            <p class="section-subtitle">Choose from our wide range of spiral notebooks for all your writing needs</p>
            
            <!-- Category Filter -->
            <div class="category-filter" id="categoryFilter">
                <button class="category-btn active" data-category="all">All Products</button>
                <!-- Categories will be loaded dynamically -->
            </div>
            
            <div class="products-grid" id="productsContainer">
                <!-- Products will be loaded from Firestore -->
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-shipping-fast"></i>
                    <h3>Free Delivery</h3>
                    <p>Free delivery within 5km radius</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-check-circle"></i>
                    <h3>Quality Guarantee</h3>
                    <p>Premium quality paper and binding</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-headset"></i>
                    <h3>24/7 Support</h3>
                    <p>Always available to assist you</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h2 class="section-title">Contact Us for Orders</h2>
            <p class="section-subtitle">Get in touch with us through any of these methods</p>
            
            <div class="contact-grid">
                <div class="contact-info">
                    <h3><i class="fas fa-map-marker-alt"></i> Our Address</h3>
                    <p>KAWOOSA KHALISA, NARBAL, BADGAM</p>
                    <p>Pincode: 193411</p>
                    
                    <h3><i class="fas fa-phone"></i> Phone Numbers</h3>
                    <p>7006927825 / 7006927825</p>
                    
                    <h3><i class="fas fa-envelope"></i> Email</h3>
                    <p>sarmenterprises786@gmail.com</p>
                    
                    <h3><i class="fas fa-qrcode"></i> UPI ID</h3>
                    <p class="upi-id">7006927825@pz</p>
                    
                    <div class="business-hours">
                        <h3><i class="fas fa-clock"></i> Business Hours</h3>
                        <p>Monday - Saturday: 9:00 AM - 8:00 PM</p>
                        <p>Sunday: 10:00 AM - 6:00 PM</p>
                    </div>
                </div>
                
                <div class="contact-options">
                    <h3>Order Now</h3>
                    <div class="contact-buttons">
                        <a href="https://wa.me/917006927825?text=Hello%20SARM%20ENTERPRISES,%20I%20would%20like%20to%20order%20notebooks" 
                           class="btn-whatsapp" target="_blank">
                            <i class="fab fa-whatsapp"></i> Order via WhatsApp
                        </a>
                        
                        <a href="tel:+917006927825" class="btn-phone">
                            <i class="fas fa-phone"></i> Call Us
                        </a>
                        
                        <a href="mailto:sarmenterprises786@gmail.com?subject=Order%20Inquiry&body=Hello%20SARM%20ENTERPRISES,%20I%20would%20like%20to%20order%20notebooks" 
                           class="btn-email">
                            <i class="fas fa-envelope"></i> Email Us
                        </a>
                    </div>
                    
                    <div class="quote-card">
                        <i class="fas fa-quote-right"></i>
                        <p>"Your ideas are precious. We provide the perfect canvas to preserve them."</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3><i class="fas fa-book"></i> SARM ENTERPRISES</h3>
                    <p>Quality Notebooks Since 2010</p>
                    <p class="footer-quote">"Writing transforms thoughts into treasures"</p>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <a href="#home">Home</a>
                    <a href="#products">Products</a>
                    <a href="#contact">Contact</a>
                    <a href="#" id="adminLoginLink">Admin Login</a>
                </div>
                <div class="footer-social">
                    <h4>Connect With Us</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SARM ENTERPRISES. All rights reserved. | Crafted with <i class="fas fa-heart"></i> in Kashmir</p>
            </div>
        </div>
    </footer>

    <!-- Product Image Modal -->
    <div id="imageModal" class="modal">
        <div class="modal-content image-modal">
            <span class="close-modal">&times;</span>
            <div class="product-image-carousel">
                <div class="swiper productImageSwiper">
                    <div class="swiper-wrapper" id="modalImages">
                        <!-- Images will be loaded here -->
                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Admin Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn-primary">Login</button>
                <p id="loginError" class="error-message"></p>
            </form>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script type="module" src="app.js"></script>
    
    <script>
        // Cart functionality
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
        }
        
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            renderCart();
            showNotification('Product added to cart!');
        }
        
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            renderCart();
        }
        
        function updateQuantity(productId, newQuantity) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                if (newQuantity <= 0) {
                    removeFromCart(productId);
                } else {
                    item.quantity = newQuantity;
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();
                    renderCart();
                }
            }
        }
        
        function renderCart() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const checkoutBtn = document.getElementById('checkoutBtn');
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="empty-cart">Your cart is empty</p>';
                cartTotal.textContent = '₹0';
                checkoutBtn.disabled = true;
                return;
            }
            
            let total = 0;
            let itemsHTML = '';
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                itemsHTML += `
                    <div class="cart-item">
                        <div class="cart-item-image">
                            <img src="assets/products/${item.images[0]}" alt="${item.name}">
                        </div>
                        <div class="cart-item-details">
                            <h4>${item.name}</h4>
                            <p>${item.pages} pages</p>
                            <div class="cart-item-quantity">
                                <button onclick="updateQuantity('${item.id}', ${item.quantity - 1})">-</button>
                                <span>${item.quantity}</span>
                                <button onclick="updateQuantity('${item.id}', ${item.quantity + 1})">+</button>
                            </div>
                        </div>
                        <div class="cart-item-price">
                            <span>₹${itemTotal}</span>
                            <button class="remove-item" onclick="removeFromCart('${item.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            
            cartItems.innerHTML = itemsHTML;
            cartTotal.textContent = `₹${total}`;
            checkoutBtn.disabled = false;
        }
        
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.innerHTML = `
                <i class="fas fa-check-circle"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }
        
        // Cart sidebar toggle
        document.getElementById('cartIcon').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('cartSidebar').classList.add('show');
            document.getElementById('cartOverlay').classList.add('show');
        });
        
        document.querySelector('.close-cart').addEventListener('click', () => {
            document.getElementById('cartSidebar').classList.remove('show');
            document.getElementById('cartOverlay').classList.remove('show');
        });
        
        document.getElementById('cartOverlay').addEventListener('click', () => {
            document.getElementById('cartSidebar').classList.remove('show');
            document.getElementById('cartOverlay').classList.remove('show');
        });
        
        // Checkout functionality
        document.getElementById('checkoutBtn').addEventListener('click', () => {
            if (cart.length === 0) return;
            
            let message = "Hello SARM ENTERPRISES,%0AI would like to order:%0A%0A";
            let total = 0;
            
            cart.forEach((item, index) => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                message += `${index + 1}. ${item.name} - ${item.quantity} x ₹${item.price} = ₹${itemTotal}%0A`;
            });
            
            message += `%0ATotal: ₹${total}%0A%0APlease confirm my order.`;
            
            window.open(`https://wa.me/917006927825?text=${message}`, '_blank');
        });
        
        // Clear cart
        document.getElementById('clearCartBtn').addEventListener('click', () => {
            if (confirm('Are you sure you want to clear your cart?')) {
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                renderCart();
            }
        });
        
        // Initialize cart on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateCartCount();
            renderCart();
        });
    </script>
</body>
</html>
