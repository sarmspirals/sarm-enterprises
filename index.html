<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SARM ENTERPRISES - Premium Notebooks</title>
    <meta name="description" content="Premium quality notebooks and stationery from SARM ENTERPRISES Kashmir. Order notebooks, diaries, and writing materials.">
    <meta name="keywords" content="notebooks, stationery, Kashmir, SARM ENTERPRISES, notebooks shop, writing materials">
    <meta name="author" content="SARM ENTERPRISES">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="SARM ENTERPRISES - Premium Notebooks">
    <meta property="og:description" content="Quality Pages for Quality Thoughts">
    <meta property="og:type" content="website">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Multi-Image Product Gallery Styles -->
    <style>
        /* ⭐ Multi-Image Product Gallery Styles */
        .product-image-container {
            position: relative;
            width: 100%;
            height: 250px;
            overflow: hidden;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .product-main-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.3s ease;
        }
        
        .product-image-dots {
            position: absolute;
            bottom: 15px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 8px;
            z-index: 2;
        }
        
        .image-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .image-dot.active {
            background: #3498db;
            transform: scale(1.2);
        }
        
        .product-image-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 2;
        }
        
        .product-image-container:hover .product-image-nav {
            opacity: 1;
        }
        
        .nav-prev {
            left: 10px;
        }
        
        .nav-next {
            right: 10px;
        }
        
        .image-count-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            z-index: 2;
        }
        
        /* Product Details */
        .product-pages {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            margin: 8px 0;
            font-size: 0.95rem;
        }
        
        .product-pages i {
            color: #3498db;
        }
        
        .stationery-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            margin: 8px 0;
            font-size: 0.95rem;
        }
        
        .stationery-item i {
            color: #e74c3c;
        }
        
        /* Cart Styles */
        .cart-count {
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            margin-left: 5px;
        }
        
        .cart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .cart-content {
            background: white;
            margin: 50px auto;
            width: 90%;
            max-width: 800px;
            border-radius: 10px;
            padding: 20px;
            position: relative;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-details {
            flex: 1;
        }
        
        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-btn {
            background: #f0f0f0;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quantity-input {
            width: 40px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 5px;
        }
        
        .remove-item {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .cart-total {
            text-align: right;
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        /* Quantity Selector in Product Card */
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .quantity-selector button {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #f8f9fa;
            border: 1px solid #ddd;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }
        
        .quantity-selector button:hover {
            background: #3498db;
            color: white;
        }
        
        .quantity-selector input {
            width: 50px;
            text-align: center;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 8px;
            font-size: 1rem;
        }
        
        /* Testimonials */
        .testimonials {
            background: #f8f9fa;
            padding: 80px 0;
        }
        
        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .testimonial-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .testimonial-card i.fa-quote-left {
            color: #3498db;
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .testimonial-card p {
            font-style: italic;
            line-height: 1.6;
            color: #555;
            margin-bottom: 20px;
        }
        
        .customer {
            font-weight: bold;
            color: #333;
            text-align: right;
        }
        
        /* Search and Filter */
        .search-filter-container {
            display: flex;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 12px 20px;
            padding-right: 50px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
        }
        
        .search-box button {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .filter-dropdown {
            min-width: 200px;
        }
        
        .filter-dropdown select {
            width: 100%;
            padding: 12px 20px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
        }
        
        /* Mobile Optimization */
        @media (max-width: 768px) {
            .product-image-container {
                height: 200px;
            }
            
            .cart-content {
                margin: 20px auto;
                width: 95%;
                padding: 15px;
            }
            
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .cart-item-controls {
                width: 100%;
                justify-content: space-between;
            }
            
            .search-filter-container {
                flex-direction: column;
            }
        }
        
        /* About Section */
        .about-section {
            padding: 80px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .about-content h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
        
        .about-content p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <img id="logo" src="" alt="SARM ENTERPRISES Logo" class="logo-img">
                <div>
                    <h1>SARM ENTERPRISES</h1>
                    <p class="tagline">Quality Pages for Quality Thoughts</p>
                </div>
            </div>
            <div class="nav-menu">
                <a href="#home"><i class="fas fa-home"></i> Home</a>
                <a href="#products"><i class="fas fa-book"></i> Products</a>
                <a href="#about"><i class="fas fa-info-circle"></i> About</a>
                <a href="#testimonials"><i class="fas fa-star"></i> Reviews</a>
                <a href="#contact"><i class="fas fa-phone"></i> Contact</a>
                <a href="faqs.html"><i class="fas fa-question-circle"></i> FAQs</a>
                <!-- Cart Link -->
                <a href="#" id="cartLink">
                    <i class="fas fa-shopping-cart"></i> Cart 
                    <span id="cartCount" class="cart-count">0</span>
                </a>
                <!-- Admin link hidden by default, shown only to logged in users -->
                <a href="admin.html" id="adminLink" style="display: none;">
                    <i class="fas fa-user-shield"></i> Admin
                </a>
            </div>
            <button class="menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Add login button only for admin access -->
    <div id="adminAccess" style="display: none; text-align: center; padding: 10px;">
        <button onclick="window.location.href='admin.html'" class="btn-primary">
            <i class="fas fa-user-shield"></i> Admin Panel
        </button>
    </div>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h2>Capture Your Thoughts with Our Premium Notebooks</h2>
            <p>Experience the perfect blend of quality paper, durable binding, and elegant design. Your ideas deserve the best.</p>
            <div class="hero-quotes">
                <div class="quote">
                    <i class="fas fa-quote-left"></i>
                    <p>Where Thoughts Find Their Perfect Home</p>
                </div>
                <div class="quote">
                    <i class="fas fa-quote-left"></i>
                    <p>Quality Pages for Lifelong Memories</p>
                </div>
            </div>
            <a href="#products" class="btn-primary">Shop Now</a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="about-content">
                <h2>About SARM ENTERPRISES</h2>
                <p>Established in 2010, SARM ENTERPRISES has been serving the Kashmir region with premium quality notebooks and stationery. We believe in providing the best writing experience for students, professionals, and creative minds alike.</p>
                <p>Our commitment to quality, customer satisfaction, and timely delivery has made us the trusted choice for thousands of customers across the valley.</p>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number">14+</div>
                        <div class="stat-label">Years Experience</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">10K+</div>
                        <div class="stat-label">Happy Customers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">50+</div>
                        <div class="stat-label">Products</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Support</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products-section">
        <div class="container">
            <h2 class="section-title">Our Premium Notebook Collection</h2>
            <p class="section-subtitle">Choose from our wide range of spiral notebooks for all your writing needs</p>
            
            <!-- Search and Filter -->
            <div class="search-filter-container">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search products...">
                    <button id="searchButton"><i class="fas fa-search"></i></button>
                </div>
                <div class="filter-dropdown">
                    <select id="sortSelect">
                        <option value="name">Sort by Name</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="stock">Availability</option>
                    </select>
                </div>
            </div>
            
            <!-- ⭐ UPDATED: Products Grid with Multi-Image Support -->
            <div class="products-grid" id="productsContainer">
                <!-- Products will be loaded from Firestore with multi-image support -->
            </div>
            
            <!-- ⭐ Product Template (Hidden) -->
            <template id="productTemplate">
                <div class="product-card">
                    <div class="product-image-container">
                        <img class="product-main-image" src="" alt="Product Image">
                        
                        <!-- Image count badge (shown only if multiple images) -->
                        <div class="image-count-badge" style="display: none;">
                            <i class="fas fa-images"></i> <span class="image-count">1</span>
                        </div>
                        
                        <!-- Navigation dots -->
                        <div class="product-image-dots"></div>
                        
                        <!-- Navigation arrows -->
                        <button class="product-image-nav nav-prev" style="display: none;">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="product-image-nav nav-next" style="display: none;">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <div class="product-info">
                        <h3 class="product-name"></h3>
                        
                        <!-- ⭐ Pages info OR Stationery label -->
                        <div class="product-pages" style="display: none;">
                            <i class="fas fa-file-alt"></i>
                            <span class="pages-count"></span> Pages
                        </div>
                        <div class="stationery-item" style="display: none;">
                            <i class="fas fa-tag"></i>
                            <span>Stationery Item</span>
                        </div>
                        
                        <div class="product-price">₹<span class="price-amount"></span></div>
                        
                        <div class="product-stock-container">
                            <span class="product-stock stock-in">
                                <i class="fas fa-box"></i> <span class="stock-text">In Stock</span>
                                (<span class="stock-quantity"></span>)
                            </span>
                        </div>
                        
                        <p class="product-description"></p>
                        
                        <!-- Quantity Selector -->
                        <div class="quantity-selector">
                            <button class="qty-minus"><i class="fas fa-minus"></i></button>
                            <input type="number" class="qty-input" value="1" min="1" max="10">
                            <button class="qty-plus"><i class="fas fa-plus"></i></button>
                        </div>
                        
                        <div class="product-actions">
                            <button class="btn-primary add-to-cart-btn">
                                <i class="fas fa-cart-plus"></i> Add to Cart
                            </button>
                            <button class="btn-secondary whatsapp-order-btn">
                                <i class="fab fa-whatsapp"></i> Order Now
                            </button>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials">
        <div class="container">
            <h2 class="section-title">What Our Customers Say</h2>
            <p class="section-subtitle">Don't just take our word for it - hear from our satisfied customers</p>
            
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <i class="fas fa-quote-left"></i>
                    <p>"Best quality notebooks in Kashmir! The paper quality is exceptional and doesn't bleed through. Perfect for students and professionals."</p>
                    <div class="customer">- Aatif, Srinagar</div>
                </div>
                <div class="testimonial-card">
                    <i class="fas fa-quote-left"></i>
                    <p>"Prompt delivery and excellent customer service. Ordered 50 notebooks for our office and they arrived perfectly packed and on time!"</p>
                    <div class="customer">- Saima, Badgam</div>
                </div>
                <div class="testimonial-card">
                    <i class="fas fa-quote-left"></i>
                    <p>"The spiral binding is so durable! My notebooks from last year are still intact. Great value for money and excellent quality."</p>
                    <div class="customer">- Imran, Pulwama</div>
                </div>
                <div class="testimonial-card">
                    <i class="fas fa-quote-left"></i>
                    <p>"As a teacher, I recommend SARM notebooks to all my students. The paper is smooth and perfect for writing. 5-star quality!"</p>
                    <div class="customer">- Dr. Rashid, Anantnag</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-shipping-fast"></i>
                    <h3>Free Delivery</h3>
                    <p>Free delivery within 5km radius</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-check-circle"></i>
                    <h3>Quality Guarantee</h3>
                    <p>Premium quality paper and binding</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-headset"></i>
                    <h3>24/7 Support</h3>
                    <p>Always available to assist you</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Secure Ordering</h3>
                    <p>Safe and secure transactions</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h2 class="section-title">Contact Us for Orders</h2>
            <p class="section-subtitle">Get in touch with us through any of these methods</p>
            
            <div class="contact-grid">
                <div class="contact-info">
                    <h3><i class="fas fa-map-marker-alt"></i> Our Address</h3>
                    <p>KAWOOSA KHALISA, NARBAL, BADGAM</p>
                    <p>Pincode: 193411</p>
                    
                    <h3><i class="fas fa-phone"></i> Phone Numbers</h3>
                    <p>7006927825 / 7006927825</p>
                    
                    <h3><i class="fas fa-envelope"></i> Email</h3>
                    <p>sarmenterprises786@gmail.com</p>
                    
                    <h3><i class="fas fa-qrcode"></i> UPI ID</h3>
                    <p class="upi-id">7006927825@pz</p>
                    
                    <div class="business-hours">
                        <h3><i class="fas fa-clock"></i> Business Hours</h3>
                        <p>Monday - Saturday: 9:00 AM - 8:00 PM</p>
                        <p>Sunday: 10:00 AM - 6:00 PM</p>
                    </div>
                </div>
                
                <div class="contact-options">
                    <h3>Order Now</h3>
                    <div class="contact-buttons">
                        <button onclick="openCart()" class="btn-whatsapp">
                            <i class="fas fa-shopping-cart"></i> View Cart & Order
                        </button>
                        
                        <a href="https://wa.me/917006927825?text=Hello%20SARM%20ENTERPRISES,%20I%20would%20like%20to%20order%20notebooks" 
                           class="btn-whatsapp" target="_blank">
                            <i class="fab fa-whatsapp"></i> Order via WhatsApp
                        </a>
                        
                        <a href="tel:+917006927825" class="btn-phone">
                            <i class="fas fa-phone"></i> Call Us
                        </a>
                        
                        <a href="mailto:sarmenterprises786@gmail.com?subject=Order%20Inquiry&body=Hello%20SARM%20ENTERPRISES,%20I%20would%20like%20to%20order%20notebooks" 
                           class="btn-email">
                            <i class="fas fa-envelope"></i> Email Us
                        </a>
                    </div>
                    
                    <div class="quote-card">
                        <i class="fas fa-quote-right"></i>
                        <p>"Your ideas are precious. We provide the perfect canvas to preserve them."</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3><i class="fas fa-book"></i> SARM ENTERPRISES</h3>
                    <p>Quality Notebooks Since 2010</p>
                    <p class="footer-quote">"Writing transforms thoughts into treasures"</p>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <a href="#home">Home</a>
                    <a href="#products">Products</a>
                    <a href="#about">About Us</a>
                    <a href="#testimonials">Reviews</a>
                    <a href="#contact">Contact</a>
                    <a href="#" id="adminLoginLink">Admin Login</a>
                </div>
                <div class="footer-social">
                    <h4>Connect With Us</h4>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 SARM ENTERPRISES. All rights reserved. | Crafted with <i class="fas fa-heart"></i> in Kashmir</p>
            </div>
        </div>
    </footer>

    <!-- Shopping Cart Modal -->
    <div id="cartModal" class="cart-modal">
        <div class="cart-content">
            <span class="close-modal" onclick="closeCart()">&times;</span>
            <h2><i class="fas fa-shopping-cart"></i> Your Shopping Cart</h2>
            
            <div id="cartItemsContainer">
                <!-- Cart items will be loaded here -->
                <p id="emptyCartMessage" style="text-align: center; padding: 40px; color: #666;">
                    Your cart is empty. Add some products!
                </p>
            </div>
            
            <div class="cart-total">
                Total: ₹<span id="cartTotal">0.00</span>
            </div>
            
            <div class="cart-actions" style="display: none;" id="cartActions">
                <button onclick="checkout()" class="btn-whatsapp" style="width: 100%; padding: 15px;">
                    <i class="fab fa-whatsapp"></i> Proceed to Checkout on WhatsApp
                </button>
                <button onclick="clearCart()" class="btn-secondary" style="margin-top: 10px;">
                    <i class="fas fa-trash"></i> Clear Cart
                </button>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Admin Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="email"><i class="fas fa-envelope"></i> Email</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="password"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn-primary">Login</button>
                <p id="loginError" class="error-message"></p>
            </form>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="app.js"></script>
    
    <!-- Main JavaScript -->
    <script>
        // Shopping Cart System
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // Update cart count in navbar
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;
            localStorage.setItem('cart', JSON.stringify(cart));
        }
        
        // Add to cart function
        function addToCart(product, quantity) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    quantity: quantity,
                    image: product.images ? product.images[0] : '',
                    stock: product.stock
                });
            }
            
            updateCartCount();
            showNotification('Product added to cart!');
        }
        
        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartCount();
            renderCart();
        }
        
        // Update quantity
        function updateQuantity(productId, quantity) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity = Math.max(1, quantity);
                updateCartCount();
                renderCart();
            }
        }
        
        // Render cart items
        function renderCart() {
            const container = document.getElementById('cartItemsContainer');
            const cartActions = document.getElementById('cartActions');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            
            if (cart.length === 0) {
                container.innerHTML = '<p id="emptyCartMessage" style="text-align: center; padding: 40px; color: #666;">Your cart is empty. Add some products!</p>';
                cartActions.style.display = 'none';
                return;
            }
            
            let html = '';
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                html += `
                    <div class="cart-item">
                        <div class="cart-item-details">
                            <h4>${item.name}</h4>
                            <p>₹${item.price} × ${item.quantity}</p>
                            <p class="item-total">Total: ₹${itemTotal}</p>
                        </div>
                        <div class="cart-item-controls">
                            <button class="quantity-btn" onclick="updateQuantity('${item.id}', ${item.quantity - 1})">-</button>
                            <input type="number" class="quantity-input" value="${item.quantity}" min="1" max="${item.stock}" onchange="updateQuantity('${item.id}', this.value)">
                            <button class="quantity-btn" onclick="updateQuantity('${item.id}', ${item.quantity + 1})">+</button>
                            <button class="remove-item" onclick="removeFromCart('${item.id}')">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            document.getElementById('cartTotal').textContent = total.toFixed(2);
            cartActions.style.display = 'block';
            emptyCartMessage.style.display = 'none';
        }
        
        // Open cart modal
        function openCart() {
            document.getElementById('cartModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            renderCart();
        }
        
        // Close cart modal
        function closeCart() {
            document.getElementById('cartModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Checkout function
        function checkout() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }
            
            let message = "Hello SARM ENTERPRISES, I would like to order:\n\n";
            
            cart.forEach((item, index) => {
                message += `${index + 1}. ${item.name} - ${item.quantity} × ₹${item.price} = ₹${item.price * item.quantity}\n`;
            });
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            message += `\nTotal: ₹${total.toFixed(2)}`;
            message += "\n\nPlease confirm availability and delivery details.";
            
            const whatsappUrl = `https://wa.me/917006927825?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }
        
        // Clear cart
        function clearCart() {
            if (confirm('Are you sure you want to clear your cart?')) {
                cart = [];
                updateCartCount();
                renderCart();
                showNotification('Cart cleared!');
            }
        }
        
        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #27ae60;
                color: white;
                padding: 15px 20px;
                border-radius: 5px;
                z-index: 9999;
                animation: slideIn 0.3s ease;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
        }
        
        // Add CSS for animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // Initialize cart count on page load
        updateCartCount();
        
        // Multi-Image Product Display System
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize cart link
            document.getElementById('cartLink').addEventListener('click', function(e) {
                e.preventDefault();
                openCart();
            });
        });
        
        // Function to create product element with multi-image support
        function createProductElement(product) {
            const template = document.getElementById('productTemplate');
            const clone = template.content.cloneNode(true);
            
            const productCard = clone.querySelector('.product-card');
            productCard.dataset.productId = product.id;
            
            const productName = clone.querySelector('.product-name');
            const productImage = clone.querySelector('.product-main-image');
            const imageCountBadge = clone.querySelector('.image-count-badge');
            const imageCountSpan = clone.querySelector('.image-count');
            const imageDots = clone.querySelector('.product-image-dots');
            const navPrev = clone.querySelector('.nav-prev');
            const navNext = clone.querySelector('.nav-next');
            const pagesInfo = clone.querySelector('.product-pages');
            const pagesCount = clone.querySelector('.pages-count');
            const stationeryInfo = clone.querySelector('.stationery-item');
            const priceAmount = clone.querySelector('.price-amount');
            const stockQuantity = clone.querySelector('.stock-quantity');
            const stockText = clone.querySelector('.stock-text');
            const stockContainer = clone.querySelector('.product-stock');
            const productDescription = clone.querySelector('.product-description');
            const qtyMinus = clone.querySelector('.qty-minus');
            const qtyPlus = clone.querySelector('.qty-plus');
            const qtyInput = clone.querySelector('.qty-input');
            const addToCartBtn = clone.querySelector('.add-to-cart-btn');
            const whatsappBtn = clone.querySelector('.whatsapp-order-btn');
            
            // Set basic product info
            productName.textContent = product.name;
            priceAmount.textContent = product.price;
            stockQuantity.textContent = product.stock;
            productDescription.textContent = product.description || 'Premium quality product';
            
            // ⭐ Handle stock status
            if (product.stock <= 0) {
                stockContainer.className = 'product-stock stock-out';
                stockText.textContent = 'Out of Stock';
                qtyInput.disabled = true;
                addToCartBtn.disabled = true;
                addToCartBtn.innerHTML = '<i class="fas fa-times"></i> Out of Stock';
                addToCartBtn.style.opacity = '0.6';
            } else if (product.stock <= 10) {
                stockContainer.className = 'product-stock stock-low';
                stockText.textContent = 'Low Stock';
                qtyInput.max = product.stock;
            } else {
                stockContainer.className = 'product-stock stock-in';
                stockText.textContent = 'In Stock';
                qtyInput.max = Math.min(product.stock, 20);
            }
            
            // ⭐ Handle pages vs stationery
            if (product.pages) {
                pagesInfo.style.display = 'flex';
                pagesCount.textContent = product.pages;
                stationeryInfo.style.display = 'none';
            } else {
                pagesInfo.style.display = 'none';
                stationeryInfo.style.display = 'flex';
            }
            
            // ⭐ Handle product images
            let productImages = [];
            
            // Check for new images array first, then old imagePath for backward compatibility
            if (product.images && Array.isArray(product.images) && product.images.length > 0) {
                productImages = product.images;
            } else if (product.imagePath) {
                productImages = [product.imagePath];
            } else {
                productImages = ['https://via.placeholder.com/400x300?text=Notebook'];
            }
            
            // Set first image
            productImage.src = productImages[0];
            productImage.alt = product.name;
            
            // Handle image loading errors
            productImage.onerror = function() {
                this.src = 'https://via.placeholder.com/400x300?text=Notebook';
            };
            
            // ⭐ Setup image gallery if multiple images
            if (productImages.length > 1) {
                // Show image count badge
                imageCountBadge.style.display = 'block';
                imageCountSpan.textContent = productImages.length;
                
                // Create navigation dots
                imageDots.innerHTML = '';
                productImages.forEach((_, index) => {
                    const dot = document.createElement('div');
                    dot.className = `image-dot ${index === 0 ? 'active' : ''}`;
                    dot.dataset.index = index;
                    dot.addEventListener('click', function() {
                        switchProductImage(productCard, index, productImages);
                    });
                    imageDots.appendChild(dot);
                });
                
                // Show navigation arrows
                navPrev.style.display = 'flex';
                navNext.style.display = 'flex';
                
                // Add navigation event listeners
                let currentImageIndex = 0;
                
                navPrev.addEventListener('click', function() {
                    currentImageIndex = (currentImageIndex - 1 + productImages.length) % productImages.length;
                    switchProductImage(productCard, currentImageIndex, productImages);
                });
                
                navNext.addEventListener('click', function() {
                    currentImageIndex = (currentImageIndex + 1) % productImages.length;
                    switchProductImage(productCard, currentImageIndex, productImages);
                });
                
                // Add auto-rotate for images (optional)
                setupImageAutoRotate(productCard, productImages);
            }
            
            // ⭐ Quantity selector functionality
            qtyMinus.addEventListener('click', function() {
                const currentValue = parseInt(qtyInput.value);
                if (currentValue > 1) {
                    qtyInput.value = currentValue - 1;
                }
            });
            
            qtyPlus.addEventListener('click', function() {
                const currentValue = parseInt(qtyInput.value);
                const maxValue = parseInt(qtyInput.max);
                if (currentValue < maxValue) {
                    qtyInput.value = currentValue + 1;
                }
            });
            
            // ⭐ Add to cart functionality
            addToCartBtn.addEventListener('click', function() {
                const quantity = parseInt(qtyInput.value);
                addToCart(product, quantity);
            });
            
            // ⭐ WhatsApp order button
            whatsappBtn.addEventListener('click', function() {
                const quantity = parseInt(qtyInput.value);
                const message = `Hello SARM ENTERPRISES, I would like to order:\n\nProduct: ${product.name}\nQuantity: ${quantity}\nPrice: ₹${product.price}\nTotal: ₹${product.price * quantity}\n\nPlease let me know about availability.`;
                const whatsappUrl = `https://wa.me/917006927825?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            });
            
            return productCard;
        }
        
        // Function to switch product image
        function switchProductImage(productCard, index, images) {
            const mainImage = productCard.querySelector('.product-main-image');
            const dots = productCard.querySelectorAll('.image-dot');
            
            // Update image
            mainImage.style.opacity = '0';
            setTimeout(() => {
                mainImage.src = images[index];
                mainImage.style.opacity = '1';
                
                // Update active dot
                dots.forEach(dot => dot.classList.remove('active'));
                dots[index].classList.add('active');
            }, 150);
        }
        
        // Function to setup auto-rotate for images
        function setupImageAutoRotate(productCard, images) {
            if (images.length <= 1) return;
            
            let currentIndex = 0;
            const rotateInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % images.length;
                switchProductImage(productCard, currentIndex, images);
            }, 5000); // Change image every 5 seconds
            
            // Stop auto-rotate when user hovers over image
            const imageContainer = productCard.querySelector('.product-image-container');
            imageContainer.addEventListener('mouseenter', () => {
                clearInterval(rotateInterval);
            });
            
            imageContainer.addEventListener('mouseleave', () => {
                setupImageAutoRotate(productCard, images);
            });
        }
        
        // Search and Filter functionality
        document.getElementById('searchButton').addEventListener('click', searchProducts);
        document.getElementById('searchInput').addEventListener('keyup', function(e) {
            if (e.key === 'Enter') searchProducts();
        });
        
        document.getElementById('sortSelect').addEventListener('change', sortProducts);
        
        function searchProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const productCards = document.querySelectorAll('.product-card');
            
            productCards.forEach(card => {
                const productName = card.querySelector('.product-name').textContent.toLowerCase();
                const description = card.querySelector('.product-description').textContent.toLowerCase();
                
                if (productName.includes(searchTerm) || description.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        function sortProducts() {
            const sortBy = document.getElementById('sortSelect').value;
            const productsContainer = document.getElementById('productsContainer');
            const productCards = Array.from(productsContainer.querySelectorAll('.product-card'));
            
            productCards.sort((a, b) => {
                const priceA = parseFloat(a.querySelector('.price-amount').textContent);
                const priceB = parseFloat(b.querySelector('.price-amount').textContent);
                const nameA = a.querySelector('.product-name').textContent;
                const nameB = b.querySelector('.product-name').textContent;
                const stockA = parseInt(a.querySelector('.stock-quantity').textContent);
                const stockB = parseInt(b.querySelector('.stock-quantity').textContent);
                
                switch(sortBy) {
                    case 'price-low':
                        return priceA - priceB;
                    case 'price-high':
                        return priceB - priceA;
                    case 'stock':
                        return stockB - stockA;
                    default:
                        return nameA.localeCompare(nameB);
                }
            });
            
            // Reorder products
            productCards.forEach(card => productsContainer.appendChild(card));
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const cartModal = document.getElementById('cartModal');
            if (event.target === cartModal) {
                closeCart();
            }
            
            const loginModal = document.getElementById('loginModal');
            if (event.target === loginModal) {
                closeModal();
            }
        };
        
        // Close cart with ESC key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeCart();
            }
        });
    </script>
</body>
</html>
